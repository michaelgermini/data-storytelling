:root{
  --bg:#0b0f14; --panel:#121922; --text:#e8f1fc; --muted:#9bb0c9; --accent:#49a3ff; --accent2:#9dffea; --danger:#ff5c7a;
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;padding:0;background:var(--bg);color:var(--text);font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif}
.topbar{position:fixed;inset:0 0 auto 0;height:56px;display:flex;align-items:center;justify-content:space-between;padding:0 16px;background:linear-gradient(180deg,rgba(10,14,20,.9),rgba(10,14,20,.6));backdrop-filter:blur(6px);border-bottom:1px solid #17202b;z-index:20}
.brand{font-weight:600;letter-spacing:.2px}
.actions .primary{background:var(--accent);color:#031422;border:none;padding:8px 14px;border-radius:8px;cursor:pointer;box-shadow:0 0 20px rgba(73,163,255,.35)}
.actions .primary:hover{filter:brightness(1.05)}
.app{position:fixed;inset:56px 0 40px 0;display:grid;grid-template-columns:1fr auto}
.scene-container{position:relative}
#scene-container{width:100%;height:100%}
.sidebar{width:360px;max-width:92vw;height:100%;background:linear-gradient(180deg,#0e1621,#0b131c);border-left:1px solid #1b2836;box-shadow:-8px 0 24px rgba(0,0,0,.35);padding:12px;overflow:auto}
.sidebar.hidden{display:none}
.sidebar-header{display:flex;align-items:center;justify-content:space-between;padding:6px 6px 10px 6px;border-bottom:1px solid #1b2836}
.sidebar-title{font-size:18px;font-weight:600}
#sidebar-close{background:transparent;border:1px solid #2b3e53;color:var(--muted);border-radius:8px;padding:6px 10px;cursor:pointer}
.sidebar-content{display:grid;gap:12px;padding:10px}
.list{display:grid;gap:8px}
.tags{display:flex;flex-wrap:wrap;gap:8px}
.tags .tag{background:#0c1b28;border:1px solid #24445f;padding:6px 10px;border-radius:999px;color:#cbe3ff}
.chart{position:fixed;right:16px;bottom:64px;width:420px;max-width:90vw;height:260px;background:rgba(10,16,22,.6);backdrop-filter:blur(8px);border:1px solid #1b2836;border-radius:12px;box-shadow:0 6px 30px rgba(0,0,0,.35);z-index:15}
.hud{position:fixed;left:16px;bottom:56px;display:flex;gap:16px;align-items:center;z-index:15}
.year-control{display:flex;gap:10px;align-items:center;background:rgba(10,16,22,.6);backdrop-filter:blur(8px);border:1px solid #1b2836;padding:8px 12px;border-radius:10px}
input[type=range]{accent-color:var(--accent)}
.footer{position:fixed;inset:auto 0 0 0;height:40px;display:flex;align-items:center;justify-content:center;font-size:12px;color:var(--muted);border-top:1px solid #17202b;background:linear-gradient(0deg,rgba(10,14,20,.9),rgba(10,14,20,.6));backdrop-filter:blur(6px);z-index:20}

/* Plotly theme tweaks */
.chart .main-svg{border-radius:12px}

/* Tooltip like styles for 3D hover (handled in JS) */
.tooltip{position:fixed;padding:6px 10px;background:#0c1b28;border:1px solid #24445f;border-radius:8px;color:#e8f1fc;font-size:12px;pointer-events:none;z-index:30;transform:translate(-50%,-140%)}

